<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tetrads — tetrads • gravity</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Tetrads — tetrads" />

<meta property="og:description" content="tetrads estimates gravity models
by taking the ratio of the ratio of flows." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gravity</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.8.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/creating-gravity-datasets.html">Creating gravity datasets</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tetrads</h1>
    
    <div class="hidden name"><code>tetrads.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>tetrads</code> estimates gravity models
by taking the ratio of the ratio of flows.</p>
    
    </div>

    <pre class="usage"><span class='fu'>tetrads</span>(<span class='no'>dependent_variable</span>, <span class='no'>regressors</span>, <span class='no'>codes</span>,
  <span class='kw'>reference_countries</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"JPN"</span>, <span class='st'>"USA"</span>), <span class='kw'>multiway</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>data</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dependent_variable</th>
      <td><p>name (type: character) of the dependent variable in the dataset
<code>data</code> (e.g. trade flows).</p>
<p>This variable is logged and then used as the dependent variable in the estimation.</p></td>
    </tr>
    <tr>
      <th>regressors</th>
      <td><p>name (type: character) of the regressors to include in the model.</p>
<p>Include the distance variable in the dataset <code>data</code> containing a measure of
distance between all pairs of bilateral partners and bilateral variables that should
be taken as the independent variables in the estimation.</p>
<p>The distance is logged automatically when the function is executed.</p>
<p>Unilateral effects drop as the ratio of ratios is taken.</p>
<p>Write this argument as <code>c(distance, contiguity, common curreny, ...)</code>.</p></td>
    </tr>
    <tr>
      <th>codes</th>
      <td><p>variable name (type: character) of the code of the country
of origin and destination (e.g. ISO-3 codes from the variables <code>iso_o</code> and <code>iso_d</code>) in the
example datasets).</p>
<p>The variables are grouped by using <code>iso_o</code> and <code>iso_d</code> to obtain estimates.</p>
<p>Write this argument as <code>c(code origin, code destination)</code>.</p></td>
    </tr>
    <tr>
      <th>reference_countries</th>
      <td><p>reference exporting and importing country, default is set to
<code>c("JPN", "USA")</code></p>
<p>Write this argument as <code>c(importing country, exporting country)</code>.</p></td>
    </tr>
    <tr>
      <th>multiway</th>
      <td><p>(type: logic) In case <code>multiway = TRUE</code>, the
<code><a href='http://www.rdocumentation.org/packages/multiwayvcov/topics/cluster.vcov'>cluster.vcov</a></code> function is used for estimation following
Cameron et al. (2011)
 multi-way clustering of
variance-covariance matrices.</p>
<p>The default value is set to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>name of the dataset to be used (type: character).</p>
<p>To estimate gravity equations you need a square dataset including bilateral
flows defined by the argument <code>dependent_variable</code>, ISO codes or similar of type character
(e.g. <code>iso_o</code> for the country of origin and <code>iso_d</code> for the
destination country), a distance measure defined by the argument <code>distance</code>
and other potential influences (e.g. contiguity and common currency) given as a vector in
<code>regressors</code> are required.</p>
<p>All dummy variables should be of type numeric (0/1).</p>
<p>Make sure the ISO codes are of type "character".</p>
<p>If an independent variable is defined as a ratio, it should be logged.</p>
<p>The user should perform some data cleaning beforehand to remove observations that contain entries that
can distort estimates.</p>
<p>When using panel data, a variable for the time may be included in the
dataset. Note that the variable for the time dimension should be of
type factor.</p>
<p>The time variable can be used as a single dependent variable or interaction
term with other variables such as country identifiers by inserting it into
<code>regressors</code> or as an optional parameter.</p>
<p>The function will remove zero flows and distances.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments to be passed to functions used by
<code>tetrads</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns the summary of the estimated gravity model as an
<code><a href='http://www.rdocumentation.org/packages/stats/topics/lm'>lm</a></code>-object.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>tetrads</code> is an estimation method for gravity models
developed by Head et al. (2010)
.</p>
<p>The function <code>tetrads</code> utilizes the multiplicative form of the
gravity equation. After choosing a reference exporter <code>A</code> and
importer <code>B</code> one can eliminate importer and exporter fixed effects
by taking the ratio of ratios.</p>
<p>Only those exporters trading with the
reference importer and importers trading with the reference exporter will
remain for the estimation. Therefore, reference countries should
preferably be countries which trade with every other country in the dataset.</p>
<p>After restricting the data in this way, <code>tetrads</code> estimates the gravity
equation in its additive form by OLS.</p>
<p>By taking the ratio of ratios, all monadic effects diminish, hence no
unilateral variables such as GDP can be included as independent variables.</p>
<p><code>tetrads</code> estimation can be used for both, cross-sectional as well as
panel data. Nonetheless, the function is designed to be consistent with the
Stata code for cross-sectional data provided on the website
<a href='https://sites.google.com/site/hiegravity/'>Gravity Equations: Workhorse, Toolkit, and Cookbook</a>
when choosing robust estimation.</p>
<p>The function <code>tetrads</code> was therefore tested for cross-sectional data.</p>
<p>If tetrads is used for panel data, the user may have to drop distance as an
independent variable as time-invariant effects drop.</p>
<p>For applying <code>tetrads</code> to panel data see Head et al. (2010)
.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>For information on <code>tetrads</code> see</p>
<p>Cameron AC, Gelbach JB and Miller DL (2011).
&#8220;Robust Inference With Multiway Clustering.&#8221;
<em>Journal of Business &amp; Economic Statistics</em>, <b>29</b>(2), pp. 238--249.
ISSN 07350015.</p>
<p>Head K, Mayer T and Ries J (2010).
&#8220;The erosion of colonial trade linkages after independence.&#8221;
<em>Journal of International Economics</em>, <b>81</b>(1), pp. 1 - 14.
ISSN 0022-1996, doi: <a href='http://doi.org/10.1016/j.jinteco.2010.01.002'>10.1016/j.jinteco.2010.01.002</a>
.</p>
<p>For more information on gravity models, theoretical foundations and
estimation methods in general see</p>
<p>Anderson JE (1979).
&#8220;A Theoretical Foundation for the Gravity Equation.&#8221;
<em>The American Economic Review</em>, <b>69</b>(1), pp. 106--116.
ISSN 00028282.</p>
<p>Anderson JE and van
Wincoop E (2001).
&#8220;Gravity with Gravitas: A Solution to the Border Puzzle.&#8221;
Technical Report 8079, National Bureau of Economic Research.
doi: <a href='http://doi.org/10.3386/w8079'>10.3386/w8079</a>
.</p>
<p>Anderson JE (2010).
&#8220;The Gravity Model.&#8221;
Technical Report 16576, National Bureau of Economic Research.
doi: <a href='http://doi.org/10.3386/w16576'>10.3386/w16576</a>
.</p>
<p>Head K, Mayer T and Ries J (2010).
&#8220;The erosion of colonial trade linkages after independence.&#8221;
<em>Journal of International Economics</em>, <b>81</b>(1), pp. 1 - 14.
ISSN 0022-1996, doi: <a href='http://doi.org/10.1016/j.jinteco.2010.01.002'>10.1016/j.jinteco.2010.01.002</a>
.</p>
<p>Head K and Mayer T (2014).
&#8220;Chapter 3 - Gravity Equations: Workhorse,Toolkit, and Cookbook.&#8221;
In Gopinath G, Helpman E and Rogoff K (eds.), <em>Handbook of International Economics</em>, volume 4 series Handbook of International Economics, pp. 131 - 195.
Elsevier.
doi: <a href='http://doi.org/10.1016/B978-0-444-54314-1.00003-3'>10.1016/B978-0-444-54314-1.00003-3</a>
.</p>
<p>Silva JMCS and Tenreyro S (2006).
&#8220;The Log of Gravity.&#8221;
<em>The Review of Economics and Statistics</em>, <b>88</b>(4), pp. 641-658.
doi: <a href='http://doi.org/10.1162/rest.88.4.641'>10.1162/rest.88.4.641</a>
.</p>
<p>and the citations therein.</p>
<p>See <a href='https://sites.google.com/site/hiegravity/'>Gravity Equations: Workhorse, Toolkit, and Cookbook</a> for gravity datasets and Stata code for estimating gravity models.</p>
<p>For estimating gravity equations using panel data see</p>
<p>Egger P and Pfaffermayr M (2003).
&#8220;The proper panel econometric specification of the gravity equation: A three-way model with bilateral interaction effects.&#8221;
<em>Empirical Economics</em>, <b>28</b>(3), pp. 571--580.
ISSN 1435-8921, doi: <a href='http://doi.org/10.1007/s001810200146'>10.1007/s001810200146</a>
.</p>
<p>Gómez-Herrera E (2013).
&#8220;Comparing alternative methods to estimate gravity models of bilateral trade.&#8221;
<em>Empirical Economics</em>, <b>44</b>(3), pp. 1087--1111.
ISSN 1435-8921, doi: <a href='http://doi.org/10.1007/s00181-012-0576-2'>10.1007/s00181-012-0576-2</a>
.</p>
<p>and the references therein.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='http://www.rdocumentation.org/packages/stats/topics/lm'>lm</a></code>, <code><a href='http://www.rdocumentation.org/packages/lmtest/topics/coeftest'>coeftest</a></code>,
<code><a href='http://www.rdocumentation.org/packages/multiwayvcov/topics/cluster.vcov'>cluster.vcov</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'>data</span>(<span class='no'>gravity_no_zeros</span>)

<span class='fu'>tetrads</span>(<span class='kw'>dependent_variable</span> <span class='kw'>=</span> <span class='st'>"flow"</span>, <span class='kw'>regressors</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"distw"</span>, <span class='st'>"rta"</span>),
<span class='kw'>codes</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"iso_o"</span>, <span class='st'>"iso_d"</span>), <span class='kw'>reference_countries</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"JPN"</span>, <span class='st'>"USA"</span>),
<span class='kw'>multiway</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>gravity_no_zeros</span>)

<span class='fu'>tetrads</span>(<span class='kw'>dependent_variable</span> <span class='kw'>=</span> <span class='st'>"flow"</span>, <span class='kw'>regressors</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"distw"</span>, <span class='st'>"rta"</span>, <span class='st'>"comcur"</span>, <span class='st'>"contig"</span>),
<span class='kw'>codes</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"iso_o"</span>, <span class='st'>"iso_d"</span>), <span class='kw'>reference_countries</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"JPN"</span>, <span class='st'>"USA"</span>),
<span class='kw'>multiway</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>gravity_no_zeros</span>)
<span class='co'># }</span><div class='input'>
</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Anna-Lena Woelwer, Jan Pablo Burgard, Joshua Kunst, Mauricio Vargas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

