<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Gamma Pseudo Maximum Likelihood (GPML) — gpml • gravity</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Gamma Pseudo Maximum Likelihood (GPML) — gpml" />

<meta property="og:description" content="gpml estimates gravity models in their
multiplicative form via Gamma Pseudo Maximum Likelihood." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gravity</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.8.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/crash-course-on-gravity-models.html">A crash course on gravity models</a>
    </li>
    <li>
      <a href="../articles/creating-gravity-datasets.html">Creating gravity datasets</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Gamma Pseudo Maximum Likelihood (GPML)</h1>
    
    <div class="hidden name"><code>gpml.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>gpml</code> estimates gravity models in their
multiplicative form via Gamma Pseudo Maximum Likelihood.</p>
    
    </div>

    <pre class="usage"><span class='fu'>gpml</span>(<span class='no'>dependent_variable</span>, <span class='no'>distance</span>, <span class='no'>additional_regressors</span>, <span class='kw'>robust</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='no'>data</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dependent_variable</th>
      <td><p>(Type: character) name of the dependent variable. This variable is logged and then used as 
the dependent variable in the estimation.</p></td>
    </tr>
    <tr>
      <th>distance</th>
      <td><p>(Type: character) name of the distance variable that should be taken as the key independent variable 
in the estimation. The distance is logged automatically when the function is executed.</p></td>
    </tr>
    <tr>
      <th>additional_regressors</th>
      <td><p>(Type: character) names of the additional regressors to include in the model (e.g. a dummy
variable to indicate contiguity). Unilateral metric variables such as GDPs can be added but those variables have to be 
logged first. Interaction terms can be added.</p>
<p>Write this argument as <code>c(distance, contiguity, common currency, ...)</code>.</p></td>
    </tr>
    <tr>
      <th>robust</th>
      <td><p>(Type: logical) whether robust fitting should be used. By default this is set to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>(Type: data.frame) the dataset to be used.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments to be passed to <code>bvw</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns the summary of the estimated gravity model similar to a
<code><a href='http://www.rdocumentation.org/packages/stats/topics/glm'>glm</a></code>-object.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>gpml</code> is an estimation method for gravity models
belonging to generalized linear models. It is described in Silva and Tenreyro (2006)
 and the model 
is estimated via <code><a href='http://www.rdocumentation.org/packages/glm2/topics/glm2'>glm2</a></code> using the gamma distribution and a log-link.</p>
<p>For similar functions, utilizing the multiplicative form via the log-link,
but different distributions, see <code><a href='ppml.html'>ppml</a></code>, <code><a href='nls.html'>nls</a></code>, and <code><a href='nbpml.html'>nbpml</a></code>.</p>
<p><code>gpml</code> estimation can be used for both, cross-sectional as well as
panel data, but its up to the user to ensure that the functions can be applied
to panel data.</p>
<p>Depending on the panel dataset and the variables -
specifically the type of fixed effects -
included in the model, it may easily occur that the model is not computable.</p>
<p>Also, note that by including bilateral fixed effects such as country-pair
effects, the coefficients of time-invariant observables such as distance
can no longer be estimated.</p>
<p>Depending on the specific model, the code of the
respective function might have to be changed in order to exclude the distance
variable from the estimation.</p>
<p>At the very least, the user should take special
care with respect to the meaning of the estimated coefficients and variances
as well as the decision about which effects to include in the estimation.</p>
<p>When using panel data, the parameter and variance estimation of the models
may have to be changed accordingly.</p>
<p>For a comprehensive overview of gravity models for panel data
see Egger and Pfaffermayr (2003)
, Gómez-Herrera (2013)
 and
Head et al. (2010)
 as well as the references therein.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Egger P and Pfaffermayr M (2003).
&#8220;The proper panel econometric specification of the gravity equation: A three-way model with bilateral interaction effects.&#8221;
<em>Empirical Economics</em>, <b>28</b>(3), pp. 571--580.
ISSN 1435-8921, doi: <a href='http://doi.org/10.1007/s001810200146'>10.1007/s001810200146</a>
.</p>
<p>Gómez-Herrera E (2013).
&#8220;Comparing alternative methods to estimate gravity models of bilateral trade.&#8221;
<em>Empirical Economics</em>, <b>44</b>(3), pp. 1087--1111.
ISSN 1435-8921, doi: <a href='http://doi.org/10.1007/s00181-012-0576-2'>10.1007/s00181-012-0576-2</a>
.</p>
<p>Head K, Mayer T and Ries J (2010).
&#8220;The erosion of colonial trade linkages after independence.&#8221;
<em>Journal of International Economics</em>, <b>81</b>(1), pp. 1 - 14.
ISSN 0022-1996, doi: <a href='http://doi.org/10.1016/j.jinteco.2010.01.002'>10.1016/j.jinteco.2010.01.002</a>
.</p>
<p>Silva JMCS and Tenreyro S (2006).
&#8220;The Log of Gravity.&#8221;
<em>The Review of Economics and Statistics</em>, <b>88</b>(4), pp. 641-658.
doi: <a href='http://doi.org/10.1162/rest.88.4.641'>10.1162/rest.88.4.641</a>
.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='http://www.rdocumentation.org/packages/glm2/topics/glm2'>glm2</a></code>, <code><a href='http://www.rdocumentation.org/packages/lmtest/topics/coeftest'>coeftest</a></code>,
<code><a href='http://www.rdocumentation.org/packages/sandwich/topics/vcovHC'>vcovHC</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Example for CRAN checks:</span>
<span class='co'># Executable in &lt; 5 sec</span>
<span class='fu'>library</span>(<span class='no'>dplyr</span>)
<span class='fu'>data</span>(<span class='st'>"gravity_no_zeros"</span>)

<span class='co'># Choose 5 countries for testing</span>
<span class='no'>countries_chosen</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"AUS"</span>, <span class='st'>"CHN"</span>, <span class='st'>"GBR"</span>, <span class='st'>"BRA"</span>, <span class='st'>"CAN"</span>)
<span class='no'>grav_small</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>gravity_no_zeros</span>, <span class='no'>iso_o</span> <span class='kw'>%in%</span> <span class='no'>countries_chosen</span>)

<span class='no'>grav_small</span> <span class='kw'>&lt;-</span> <span class='no'>grav_small</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='http://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(
    <span class='kw'>lgdp_o</span> <span class='kw'>=</span> <span class='fu'>log</span>(<span class='no'>gdp_o</span>),
    <span class='kw'>lgdp_d</span> <span class='kw'>=</span> <span class='fu'>log</span>(<span class='no'>gdp_d</span>)
  )

<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'>gpml</span>(
  <span class='kw'>dependent_variable</span> <span class='kw'>=</span> <span class='st'>"flow"</span>,
  <span class='kw'>distance</span> <span class='kw'>=</span> <span class='st'>"distw"</span>,
  <span class='kw'>additional_regressors</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"rta"</span>, <span class='st'>"iso_o"</span>, <span class='st'>"iso_d"</span>),
  <span class='kw'>robust</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>grav_small</span>
)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Anna-Lena Woelwer, Jan Pablo Burgard, Joshua Kunst, Mauricio Vargas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

