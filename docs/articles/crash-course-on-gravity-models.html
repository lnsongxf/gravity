<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A crash course on gravity models • gravity</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="A crash course on gravity models">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gravity</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.8.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/crash-course-on-gravity-models.html">A crash course on gravity models</a>
    </li>
    <li>
      <a href="../articles/creating-gravity-datasets.html">Creating gravity datasets</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>A crash course on gravity models</h1>
                        <h4 class="author">Mauricio Vargas</h4>
            
            <h4 class="date">2018-10-12</h4>
      
      
      <div class="hidden name"><code>crash-course-on-gravity-models.Rmd</code></div>

    </div>

    
    
<div id="basic-model" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-model" class="anchor"></a>Basic model</h2>
<p>Gravity models in their traditional form are inspired by Newton law of gravitation:</p>
<p><span class="math display">\[
F_{ij}=G\frac{M_{i}M_{j}}{D^{2}_{ij}}.
\]</span></p>
<p>The force <span class="math inline">\(F\)</span> between two bodies <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> with <span class="math inline">\(i \neq j\)</span> is proportional to the masses <span class="math inline">\(M\)</span> of these bodies and inversely proportional to the square of their geographical distance <span class="math inline">\(D\)</span>. <span class="math inline">\(G\)</span> is a constant and as such of no major concern.</p>
<p>The underlying idea of a traditional gravity model, shown for international trade, is equally simple:</p>
<p><span class="math display">\[
X_{ij}=G\frac{Y_{i}^{\beta_{1}}Y_{j}^{\beta_{2}}}{D_{ij}^{\beta_{3}}}. 
\]</span></p>
<p>The trade flow <span class="math inline">\(X\)</span> is explained by <span class="math inline">\(Y_{i}\)</span> and <span class="math inline">\(Y_{j}\)</span> that are the masses of the exporting and importing country (e.g. the GDP) and $ D_{ij}$ that is the distance between the countries.</p>
<p>Dummy variables such as common borders <span class="math inline">\(contig\)</span> or regional trade agreements <span class="math inline">\(rta\)</span> can be added to the model. Let <span class="math inline">\(t_{ij}\)</span> be the transaction cost defined as:</p>
<p><span class="math display">\[
t_{ij}=\exp(contig_{ij} + rta_{ij})
\]</span></p>
<p>So that the model with frictions is now:</p>
<p><span class="math display">\[
X_{ij}=G\frac{Y_{i}^{\beta_{1}}Y_{j}^{\beta_{2}}}{D_{ij}^{\beta_{3}}}t_{ij}^{\beta_4}. 
\]</span></p>
<p>A logarithmic operator can be applied to form a log-linear model and use a standard estimation methods such as OLS:</p>
<p><span class="math display">\[
\log X_{ij}=\beta_{0}\log G +\beta_{1}\log Y_{i}+\beta_{2}\log Y_{j}+\beta_{3}\log D_{ij}+\beta_{4}contig_{ij}+\beta_{5}rta_{ij}
\]</span></p>
</div>
<div id="trade-barriers-model" class="section level2">
<h2 class="hasAnchor">
<a href="#trade-barriers-model" class="anchor"></a>Trade barriers model</h2>
<p>Provided trade barriers exists, the econometric literature proposes the Multilateral Resistance model defined by the equations:</p>
<p><span class="math display">\[
X_{ij}=\frac{Y_{i}Y_{j}}{Y}\frac{t_{ij}^{1-\sigma}}{P_{j}^{1-\sigma}\Pi_{i}^{1-\sigma}}
\]</span> with <span class="math display">\[
\Pi_{i}^{1-\sigma}=\sum_{j}\frac{t_{ij}^{1-\sigma}}{P_{j}^{1-\sigma}}\frac{Y_{j}}{Y}
\]</span> and <span class="math display">\[
P_{j}^{1-\sigma}=\sum_{i}\frac{t_{ij}^{1-\sigma}}{\Pi_{i}^{1-\sigma}}\frac{Y_{i}}{Y}.
\]</span></p>
<p>Basically the model proposes that the exports <span class="math inline">\(X_{ij}\)</span> from <span class="math inline">\(i\)</span> to <span class="math inline">\(j\)</span> are determined by the supply factors in <span class="math inline">\(i\)</span>, <span class="math inline">\(Y_{i}\)</span>, and the demand factors in $ j $, <span class="math inline">\(Y_{j}\)</span>, as well as the transaction costs <span class="math inline">\(t_{ij}\)</span>.</p>
<p>Next to information on bilateral partners <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span>, information on the rest of the world is included in the gravity model with <span class="math inline">\(Y=\sum_{i} Y_{i}= \sum_{j} Y_{j}\)</span> that represents the worldwide sum of incomes (e.g. the world’s GDP).</p>
<p><span class="math inline">\(\sigma\)</span> represents the elasticity of substitution between all goods with <span class="math inline">\(\sigma &gt; 1\)</span> in order to account for the preference for a variation of goods (e.g. in this model goods can be replaced for other similar goods).</p>
<p>The Multilateral Resistance terms are included via the terms <span class="math inline">\(P\)</span>, Inward Multilateral Resistance, and <span class="math inline">\(\Pi\)</span>, Outward Multilateral Resistance. The Outward Multilateral Resistance <span class="math inline">\(\Pi_{i}\)</span> is a function of the transaction costs of <span class="math inline">\(i\)</span> to all trade partners <span class="math inline">\(j\)</span> and their demand, <span class="math inline">\(P_{j}\)</span>.</p>
<p>The Multilateral Resistance terms dependent on each other. Hence, the estimation of structural gravity models becomes complex.</p>
</div>
<div id="model-estimation" class="section level2">
<h2 class="hasAnchor">
<a href="#model-estimation" class="anchor"></a>Model estimation</h2>
<p>To estimate gravity equations you need a square dataset including bilateral flows defined by the argument , a distance measure defined by the argument  that is the key regressor, and other potential influences (e.g. contiguity and common currency) given as a vector in  are required.</p>
<p>Some estimation methods require ISO codes or similar of type character variables to compute particular country effects. Make sure the origin and destination codes are of type “character”.</p>
<p>The rule of thumb for regressors or independent variables consists in:</p>
<ul>
<li>All dummy variables should be of type numeric (0/1).</li>
<li>If an independent variable is defined as a ratio, it should be logged.</li>
</ul>
<p>The user should perform some data cleaning beforehand to remove observations that contain entries that can distort estimates, notwithstanding the functions provided within this package will remove zero flows and distances.</p>
<p>See  for gravity datasets and Stata code for estimating gravity models.</p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>For more information on gravity models, theoretical foundations and estimation methods in general see</p>









<p>and the citations therein.</p>
<p>See  for gravity datasets and Stata code for estimating gravity models.</p>
<p>For estimating gravity equations using panel data see</p>


<p>and the references therein.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#basic-model">Basic model</a></li>
      <li><a href="#trade-barriers-model">Trade barriers model</a></li>
      <li><a href="#model-estimation">Model estimation</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Anna-Lena Woelwer, Jan Pablo Burgard, Joshua Kunst, Mauricio Vargas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
